<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="css/sidenav.css">
    <link rel="stylesheet" href="css/Forside.css">
    <link rel="stylesheet" href="css/shared.css">
    <link rel="stylesheet" href="css/TableStyle.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <meta charset="UTF-8">
    <title>Forside</title>
</head>
<body>
<div id="vertical-body-contents">
    <div id="body-container">
        <div class="sideBody">
            <div class="button-container">
                <div class="top-buttons">
                    <p style="margin-top: 4%;margin-bottom: 2%">Biler i brug:</p>
                    <span class="material-icons" style="text-align: right;padding-top: -10%;margin-top: -5%;margin-bottom: -5%;font-size: 50px;">directions_car</span>
                    <p th:text="${usedCarAmount}" style="font-size: 20px;margin-top: 2%;margin-bottom: 4%"></p>
                </div>
                <div class="top-buttons">
                <p style="margin-top: 4%;margin-bottom: 2%">Månedlig indtægt:</p>
                    <span class="material-icons" style="text-align: right;padding-top: -10%;margin-top: -5%;margin-bottom: -5%;font-size: 50px;">paid</span>
                    <p th:text="${totalPrice} + ' ,- kr'" style="font-size: 20px;margin-top: 2%;margin-bottom: 4%"></p>
                </div>

                <div class="top-buttons">
                <p style="margin-top: 4%;margin-bottom: 2%">Afleveres i dag</p>
                    <span class="material-icons" style="text-align: right;padding-top: -10%;margin-top: -5%;margin-bottom: -5%;font-size: 50px;">keyboard_return</span>
                    <p style="margin-top: 2%;margin-bottom: 4%;font-size: 20px">N/A</p>
                </div>
            </div>

            <div class=table-body style="width: 50%; float: left">
                <div class="table-title">
                    <h1>Biler på lager </h1>
                </div>
                <div class="table-container">
                    <div class="menu-table">
                        <table>
                            <thead>
                            <tr>
                                <th>Mærke</th>
                                <th>Model</th>
                                <th>Variant</th>
                                <th>Pris (pr måned)</th>
                                <th>Book</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr th:each="inStorage: ${cars}">
                                <td th:text="${inStorage.carSpecification.getBrand}"></td>
                                <td th:text="${inStorage.carSpecification.getModel}"></td>
                                <td th:text="${inStorage.carSpecification.getVariant}"></td>
                                <td th:text="${inStorage.price}"></td>
                                <td th:text="${inStorage.carSpecification.getColor}"></td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

            </div>


            <div class=table-body style="width: 50%; float: right">
                <div class="table-title">
                    <h1>Aktive sager </h1>
                </div>
                <div class="table-container">
                    <div class="menu-table">
                        <table>
                            <thead>
                            <tr>
                                <th>Sagsnummer</th>
                                <th>Opretter</th>
                                <th>Vigtighed</th>
                                <th>Sagsemne</th>
                                <th>beskrivelse</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr th:each="ticket: ${tickets}">
                                <td th:text="${ticket.ticketId}"></td>
                                <td th:text="${ticket.user.firstName} + ' ' + ${ticket.user.lastName}"></td>
                                <td th:text="${ticket.severity}"></td>
                                <td th:text="${ticket.ticketName}"></td>
                                <td th:text="${ticket.ticketDescription}"></td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

           </div>
        </div>
    </div>
</div>

<script>
    function toggleDropdown() {
        var dropdown = document.getElementById("dropdown-list-login");

        if (dropdown.classList.contains("show-dropdown")) {
            dropdown.classList.remove("show-dropdown");
            dropdown.classList.add("hide-dropdown");
        }
        else {
            dropdown.classList.add("show-dropdown");
            dropdown.classList.remove("hide-dropdown");
        }
    }

    window.onclick = function(event) {

        const allowedIds = ["user-logged-on", "user-menu", "user-icon-button"]
        console.log(event.target.id);
        if (!allowedIds.includes(event.target.id)) {
            hideDropdown();
        }
    }

    function hideDropdown() {
        var dropdown = document.getElementById("dropdown-list-login");

        if (dropdown.classList.contains("show-dropdown")) {
            dropdown.classList.remove("show-dropdown");
            dropdown.classList.add("hide-dropdown");
        }
    }
</script>

</body>
</html>